(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[33],{117:function(a,e,n){"use strict";n.d(e,"d",(function(){return t})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"g",(function(){return u})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return d}));var t="/login",c="/jurusan",i="/kelas",u="/tahun-ajaran",r="/jenis-pembayaran",s="/master-bayaran",d="/master-bayaran/list"},681:function(a,e,n){"use strict";n.r(e);var t=n(7),c=n(14),i=n(1),u=n(20),r=n(149),s=n(97),d=n(117),o=n(2),l=n.n(o),j=n(3);e.default=function(){var a=Object(i.useState)([]),e=Object(c.a)(a,2),n=e[0],o=e[1],f=Object(i.useState)({idTahunAjaran:"",idTypeKelas:""}),h=Object(c.a)(f,2),b=h[0],O=h[1],m=Object(i.useState)({idTahunAjaran:"",idTypeKelas:""}),p=Object(c.a)(m,2),T=p[0],v=p[1],x=Object(i.useState)([]),y=Object(c.a)(x,2),g=y[0],K=y[1],A=Object(i.useState)([]),N=Object(c.a)(A,2),P=N[0],k=N[1];Object(i.useEffect)((function(){Object(s.a)(d.g).then((function(a){if(a.data.data&&a.data.data.length>0){var e=[];a.data.data.forEach((function(a){e.push({value:a.id_tahun,label:a.tahun_ajaran,allData:a})})),o(e)}})).catch((function(a){console.log(a)}))}),[]);var C=function(a){var e;k([]),K([]),e=a.value,Object(s.a)("".concat(d.f,"?tahun=").concat(btoa(e))).then((function(a){if(a.data.data&&a.data.data.length>0){var e=[];e.push({value:"",label:"Pilih Tipe Kelas"}),a.data.data.length&&a.data.data.forEach((function(a){e.push(a)})),K(e)}})).catch((function(a){console.log(a)})),O(Object(t.a)(Object(t.a)({},b),{},{idTahunAjaran:a.value,idTypeKelas:""})),v(Object(t.a)(Object(t.a)({},T),{},{idTahunAjaran:""}))},w=function(a){a.value,Object(s.a)(d.a).then((function(a){if(a.data.data&&a.data.data.length>0){var e=[];a.data.data.forEach((function(a){e.push({id_jenis_pem:a.id_jenis_pem,idTahun:b.idTahunAjaran,idType:b.idTypeKelas,keterangan:a.keterangan,jumlah:0,required:!1})})),k(e)}})).catch((function(a){console.log(a)})),k([]),O(Object(t.a)(Object(t.a)({},b),{},{idTypeKelas:a.value})),v(Object(t.a)(Object(t.a)({},T),{},{idTypeKelas:""}))};return Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.f,{children:Object(j.jsx)(u.h,{children:"Tambah Data Master Pembayaran"})}),Object(j.jsx)(u.e,{children:Object(j.jsxs)(u.C,{children:[Object(j.jsxs)(u.i,{md:6,sm:12,className:"mb-2",children:[Object(j.jsx)(u.s,{children:"Tahun Ajaran"}),Object(j.jsx)(r.a,{className:l()("react-select",{"is-invalid":""!==T.idTahunAjaran}),classNamePrefix:"select",options:n,isClearable:!1,value:n&&n.find((function(a){return a.value===b.idTahunAjaran})),onChange:function(a){C(a)}})]}),Object(j.jsxs)(u.i,{md:6,sm:12,className:"mb-2",children:[Object(j.jsx)(u.s,{children:"Tipe Kelas"}),Object(j.jsx)(r.a,{className:l()("react-select",{"is-invalid":""!==T.idTypeKelas}),classNamePrefix:"select",options:g,isClearable:!1,value:g&&g.find((function(a){return a.value===b.idTypeKelas})),onChange:function(a){w(a)}})]}),Object(j.jsx)(u.i,{md:12,sm:12,className:"mb-2",children:P.length?P.map((function(a,e){return Object(j.jsxs)(u.i,{md:12,sm:12,className:"mb-2",children:[Object(j.jsx)(u.s,{children:a.keterangan}),Object(j.jsx)(u.p,{type:"text",defaultValue:a.jumlah,className:a.required?"is-invalid":"",onChange:function(a){!function(a,e){P[a].jumlah=e.target.value}(e,a)}})]},e)})):""}),Object(j.jsx)(u.i,{md:12,sm:12,className:"mt-1",children:Object(j.jsx)(u.c,{onClick:function(){""===b.idTahunAjaran||""===b.idTypeKelas?v(Object(t.a)(Object(t.a)({},T),{},{idTahunAjaran:""===b.idTahunAjaran||"",idTypeKelas:""===b.idTypeKelas||""})):(P[0].required=!0,console.log(P[0]),k(P))},type:"button",color:"primary",children:"Simpan"})})]})})]})}},97:function(a,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return d}));var t=n(101),c=n(10),i=n.n(c),u=function(a){return new Promise((function(e,n){return i.a.get("".concat(t.a).concat(a),t.i).then((function(a){e(a)})).catch((function(a){Object(t.f)(a),n(a)}))}))},r=function(a,e){return new Promise((function(n,c){return i.a.post(t.a+a,e,t.i).then((function(a){n(a)})).catch((function(a){Object(t.f)(a),c(a)}))}))},s=function(a,e){return new Promise((function(n,c){return i.a.put(t.a+a,e,t.i).then((function(a){n(a)})).catch((function(a){Object(t.f)(a),c(a)}))}))},d=function(a,e){return new Promise((function(n,c){return i.a.patch(t.a+a,e,t.i).then((function(a){n(a)})).catch((function(a){Object(t.f)(a),c(a)}))}))}}}]);
//# sourceMappingURL=33.e509ceb6.chunk.js.map
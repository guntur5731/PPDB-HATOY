(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[31],{102:function(e,t,a){"use strict";a.d(t,"q",(function(){return n})),a.d(t,"n",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"k",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"p",(function(){return d})),a.d(t,"v",(function(){return u})),a.d(t,"b",(function(){return j})),a.d(t,"j",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"t",(function(){return O})),a.d(t,"o",(function(){return m})),a.d(t,"h",(function(){return f})),a.d(t,"i",(function(){return p})),a.d(t,"m",(function(){return g})),a.d(t,"u",(function(){return x})),a.d(t,"g",(function(){return k})),a.d(t,"s",(function(){return w})),a.d(t,"r",(function(){return v})),a.d(t,"l",(function(){return N}));var n="/register",i="/lupa-password",c="/chek-token",s="/change-password",r="/gelombangPendaftaran",l="/home",o="/dashboard",d="/list-peserta",u="/verifikasi-peserta",j="/biaya",b="/gelombang",h="/detail-peserta",O="/upload-nilai",m="/nilai",f="/download-Nilai",p="/download-peserta",g="/listpeserta",x="/upload-peserta",k="/get-peserta",w="/upload-file",v="/update-bio",N="/listBygelombang"},687:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var n=a(7),i=a(14),c=a(1),s=a(120),r=a.n(s),l=a(26),o=a(20),d=a(97),u=a(101),j=a(102),b=(a(289),a.p+"static/media/TEMPLATE_UPLOAD_NILAI.50ee2cec.xlsx"),h=a(3),O={fontSize:"12px",color:"red"};function m(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],s=t[1],m=Object(c.useState)(""),f=Object(i.a)(m,2),p=f[0],g=f[1],x=Object(c.useState)([]),k=Object(i.a)(x,2),w=k[0],v=k[1],N=Object(c.useState)(),C=Object(i.a)(N,2),S=C[0],y=C[1],R=Object(c.useState)([]),A=Object(i.a)(R,2),L=A[0],W=A[1],P=Object(c.useState)([]),_=Object(i.a)(P,2),z=_[0],D=_[1],T=Object(c.useState)(!1),I=Object(i.a)(T,2),E=I[0],F=I[1],M=Object(c.useState)({noRegis:"",nilaiAkademik:"",nilaiRapot:"",nilaiWawancara:"",name:""}),B=Object(i.a)(M,2),U=B[0],K=B[1],G=Object(c.useState)({nilaiAkademik:"",nilaiRapot:"",nilaiWawancara:""}),Q=Object(i.a)(G,2),$=Q[0],H=Q[1],J=Object(c.useState)([]),q=Object(i.a)(J,2),V=q[0],X=q[1],Y=Object(c.useState)(!1),Z=Object(i.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(!1),ne=Object(i.a)(ae,2),ie=ne[0],ce=ne[1],se=Object(c.useState)(""),re=Object(i.a)(se,2),le=re[0],oe=re[1],de=Object(c.useState)(!1),ue=Object(i.a)(de,2),je=ue[0],be=ue[1],he=function(){s(!0),Object(d.a)(j.o).then((function(e){e&&e.data&&e.data.data&&X(e.data.data),s(!1)})).catch((function(e){console.log(e),s(!1)}))};Object(c.useEffect)((function(){he()}),[]);var Oe=function(){""===U.nilaiRapot||U.nilaiRapot>100||""===U.nilaiAkademik||U.nilaiAkademik>100||""===U.nilaiWawancara||U.nilaiWawancara>100?H({nilaiAkademik:""===U.nilaiAkademik?"Kolom harus di isi":U.nilaiAkademik>100&&"Nilai tidak boleh melebihi 100",nilaiRapot:""===U.nilaiRapot?"Kolom harus di isi":U.nilaiRapot>100&&"Nilai tidak boleh melebihi 100",nilaiWawancara:""===U.nilaiWawancara?"Kolom harus di isi":U.nilaiWawancara>100&&"Nilai tidak boleh melebihi 100"}):(s(!0),Object(d.c)(j.o,U).then((function(e){e&&e.data&&e.data.response&&e.data.response.status&&(l.b.success("Berhasil menyimpan data"),he(),te(!ee)),s(!1)})).catch((function(e){console.log(e)})))};return Object(h.jsxs)("div",{children:[Object(h.jsx)(o.C,{children:Object(h.jsx)(o.i,{md:12,sm:12,children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.f,{children:Object(h.jsx)(o.h,{children:"Nilai"})}),Object(h.jsxs)(o.e,{children:[Object(h.jsxs)(o.C,{className:"x-0",children:[Object(h.jsxs)(o.i,{className:"mt-1",md:"6",sm:"12",children:[Object(h.jsx)(o.c,{size:"sm",color:"success",onClick:function(){ce(!ie)},children:"Upload"}),Object(h.jsxs)(o.G,{size:"sm",style:{marginLeft:"10px"},children:[Object(h.jsx)(o.n,{color:"info",caret:!0,children:"Download"}),Object(h.jsxs)(o.m,{children:[Object(h.jsx)(o.l,{tag:"a",onClick:function(){return l.b.warning("COMING SOON")},children:"CSV"}),Object(h.jsx)(o.l,{tag:"a",target:"_blank",href:"".concat(u.b).concat(j.h,"?type=").concat(u.d),children:"Excel"}),Object(h.jsx)(o.l,{tag:"a",onClick:function(){return l.b.warning("COMING SOON")},children:"Pdf"})]})]})]}),Object(h.jsxs)(o.i,{className:"d-flex align-items-center justify-content-end mt-1",md:"6",sm:"12",children:[Object(h.jsx)(o.s,{className:"me-1",for:"search-input",children:"Search"}),Object(h.jsx)(o.p,{className:"dataTable-filter mb-50",type:"text",bsSize:"sm",id:"search-input",value:p,onChange:function(e){return function(e){var t=[];g(e),e.length&&(t=V.filter((function(t){var a=t.id_registrasi.toLowerCase().startsWith(e.toLowerCase())||t.name.toLowerCase().startsWith(e.toLowerCase()),n=t.id_registrasi.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase());return a||(!a&&n?n:null)})),v(t))}(e.target.value)}})]})]}),Object(h.jsx)(r.a,{progressPending:a,columns:[{name:"ID Registrasi",sortable:!0,selector:function(e){return e.id_registrasi}},{name:"Nama",sortable:!0,selector:function(e){return e.name}},{name:"NISN",sortable:!0,selector:function(e){return e.nisn}},{name:"Nilai Akademik",sortable:!0,selector:function(e){return e.akademik}},{name:"Nilai Wawancara & BTQ",sortable:!0,selector:function(e){return e.lisan}},{name:"Nilai Rapor",sortable:!0,selector:function(e){return e.rapor}},{name:"Hasil Perhitungan",sortable:!0,selector:function(e){return e.hasil_perhitungan}},{name:"Status Kelulusan",sortable:!0,selector:function(e){return e.status_kelulusan}}],data:p.length?w:V,pagination:!0,noHeader:!0,onRowDoubleClicked:function(e){return function(e){te(!ee),K({noRegis:e.id_registrasi,name:e.name,nilaiRapot:"-"===e.rapor?"":e.rapor,nilaiAkademik:"-"===e.akademik?"":e.akademik,nilaiWawancara:"-"===e.lisan?"":e.lisan}),H({nilaiAkademik:"",nilaiRapot:"",nilaiWawancara:""})}(e)}})]})]})})}),Object(h.jsxs)(o.u,{backdrop:"static",isOpen:ee,toggle:function(){return te(!ee)},className:"modal-dialog-centered",children:[Object(h.jsx)(o.x,{toggle:function(){return te(!ee)},children:"Input Nilai"}),Object(h.jsx)(o.v,{children:Object(h.jsxs)(o.C,{children:[Object(h.jsxs)(o.i,{md:12,sm:12,children:[Object(h.jsx)(o.s,{children:"No Registrasi"}),Object(h.jsx)(o.p,{type:"text",readOnly:!0,value:U.noRegis,disabled:!0})]}),Object(h.jsxs)(o.i,{md:12,sm:12,children:[Object(h.jsx)(o.s,{children:"Nama"}),Object(h.jsx)(o.p,{type:"text",readOnly:!0,value:U.name,disabled:!0})]}),Object(h.jsxs)(o.i,{md:12,sm:12,children:[Object(h.jsx)(o.s,{children:"Nilai Akademik"}),Object(h.jsx)(o.p,{type:"text",maxLength:3,value:U.nilaiAkademik,className:$.nilaiAkademik.length>0&&"is-invalid",placeholder:"Masukan Nilai Akademik",onChange:function(e){(/^[0-9]+$/.test(e.target.value)||e.target.value.length<1)&&K(Object(n.a)(Object(n.a)({},U),{},{nilaiAkademik:e.target.value})),H(Object(n.a)(Object(n.a)({},$),{},{nilaiAkademik:""}))}}),Object(h.jsx)(o.s,{style:O,children:$.nilaiAkademik})]}),Object(h.jsxs)(o.i,{md:12,sm:12,children:[Object(h.jsx)(o.s,{children:"Nilai Lisan & BTQ"}),Object(h.jsx)(o.p,{type:"text",maxLength:3,value:U.nilaiWawancara,className:$.nilaiWawancara.length>0&&"is-invalid",placeholder:"Masukan Nilai Lisan & BTQ",onChange:function(e){(/^[0-9]+$/.test(e.target.value)||e.target.value.length<1)&&K(Object(n.a)(Object(n.a)({},U),{},{nilaiWawancara:e.target.value})),H(Object(n.a)(Object(n.a)({},$),{},{nilaiWawancara:""}))}}),Object(h.jsx)(o.s,{style:O,children:$.nilaiWawancara})]}),Object(h.jsxs)(o.i,{md:12,sm:12,children:[Object(h.jsx)(o.s,{children:"Nilai Rapor"}),Object(h.jsx)(o.p,{type:"text",maxLength:3,value:U.nilaiRapot,placeholder:"Masukan Nilai Rapor",className:$.nilaiRapot.length>0&&"is-invalid",onChange:function(e){(/^[0-9]+$/.test(e.target.value)||e.target.value.length<1)&&K(Object(n.a)(Object(n.a)({},U),{},{nilaiRapot:e.target.value})),H(Object(n.a)(Object(n.a)({},$),{},{nilaiRapot:""}))}}),Object(h.jsx)(o.s,{style:O,children:$.nilaiRapot})]})]})}),Object(h.jsxs)(o.w,{children:[Object(h.jsx)(o.c,{color:"success",onClick:function(){return Oe()},children:a?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.D,{size:"sm"})," loading "]}):"Simpan"})," "]})]}),Object(h.jsxs)(o.u,{backdrop:"static",isOpen:ie,size:"lg",toggle:function(){E||je||ce(!ie)},className:"modal-dialog-centered",children:[Object(h.jsx)(o.x,{toggle:function(){E||je||ce(!ie)},children:"Upload Data Nilai Peserta"}),Object(h.jsx)(o.v,{children:Object(h.jsxs)(o.C,{children:[Object(h.jsx)(o.i,{md:12,sm:12,className:"mb-1",children:Object(h.jsx)("a",{href:b,target:"_blank",children:"Download Template Upload Excel"})}),Object(h.jsxs)(o.i,{md:12,sm:12,children:[Object(h.jsx)(o.s,{children:"File"}),Object(h.jsx)(o.p,{type:"file",onChange:function(e){y(e.target.files[0]),oe("")}}),le.length>0&&Object(h.jsx)(o.s,{style:{color:"red",fontSize:"12px"},children:le}),Object(h.jsx)("br",{}),Object(h.jsx)(o.c,{size:"sm",disabled:E,style:{marginTop:"5px"},color:"success",onClick:function(){return function(){if(S){var e=new FormData;e.append("file",S),F(!0),Object(d.c)(j.s,e).then((function(e){if(e&&e.data&&e.data.data){var t=e.data.data;if(t.length>0){var a=Object.keys(t[0]),n=[];a.length>0&&(a.forEach((function(e){n.push({name:e.toLocaleUpperCase().replaceAll("_"," "),sortable:!0,maxWidth:"200px",selector:function(t){return t[e]},wrap:!0})})),W(n))}t.splice(0,1),D(t)}F(!1)})).catch((function(e){console.log(e),F(!1)}))}else oe("File belum di pilih")}()},children:E?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.D,{size:"sm"})," Loading"]}):"preview"})]}),Object(h.jsx)(o.i,{md:12,sm:12,children:Object(h.jsx)(r.a,{columns:L,data:z,pagination:!0,progressPending:E})})]})}),Object(h.jsx)(o.w,{children:z.length>0&&Object(h.jsx)(o.c,{disabled:je,color:"success",onClick:function(){return be(!0),void Object(d.c)(j.t,z).then((function(e){e&&e.data&&e.data.response&&e.data.response.status?(l.b.success(e.data.response.message),ce(!ie),D([]),he()):e&&e.data&&e.data.response&&e.data.response.message&&""!==e.data.data&&l.b.warning(e.data.data),be(!1)})).catch((function(e){console.log(e),be(!1)}))},children:je?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.D,{size:"sm"})," Loading"]}):"upload"})})]})]})}},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a(101),i=a(10),c=a.n(i),s=function(e){return new Promise((function(t,a){return c.a.get("".concat(n.a).concat(e),n.i).then((function(e){t(e)})).catch((function(e){Object(n.f)(e),a(e)}))}))},r=function(e,t){return new Promise((function(a,i){return c.a.post(n.a+e,t,n.i).then((function(e){a(e)})).catch((function(e){Object(n.f)(e),i(e)}))}))},l=function(e,t){return new Promise((function(a,i){return c.a.put(n.a+e,t,n.i).then((function(e){a(e)})).catch((function(e){Object(n.f)(e),i(e)}))}))},o=function(e,t){return new Promise((function(a,i){return c.a.patch(n.a+e,t,n.i).then((function(e){a(e)})).catch((function(e){Object(n.f)(e),i(e)}))}))}}}]);
//# sourceMappingURL=31.651113f6.chunk.js.map
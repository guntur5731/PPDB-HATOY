(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[8],{28:function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return p}));var a=n(11),o=n(8),r=Object(a.c)({name:"layout",initialState:{skin:o.a.layout.skin,isRTL:o.a.layout.isRTL,layout:o.a.layout.type,lastLayout:o.a.layout.type,footerType:o.a.layout.footer.type,navbarType:o.a.layout.navbar.type,menuHidden:o.a.layout.menu.isHidden,contentWidth:o.a.layout.contentWidth,menuCollapsed:o.a.layout.menu.isCollapsed,routerTransition:o.a.layout.routerTransition,navbarColor:o.a.layout.navbar.backgroundColor},reducers:{handleRTL:function(e,t){e.isRTL=t.payload,window.localStorage.setItem("direction",JSON.stringify(t.payload))},handleSkin:function(e,t){e.skin=t.payload,window.localStorage.setItem("skin",JSON.stringify(t.payload))},handleLayout:function(e,t){e.layout=t.payload},handleFooterType:function(e,t){e.footerType=t.payload},handleNavbarType:function(e,t){e.navbarType=t.payload},handleMenuHidden:function(e,t){e.menuHidden=t.payload},handleLastLayout:function(e,t){e.lastLayout=t.payload},handleNavbarColor:function(e,t){e.navbarColor=t.payload},handleContentWidth:function(e,t){e.contentWidth=t.payload},handleMenuCollapsed:function(e,t){e.menuCollapsed=t.payload,window.localStorage.setItem("menuCollapsed",JSON.stringify(t.payload))},handleRouterTransition:function(e,t){e.routerTransition=t.payload}}}),i=r.actions,s=i.handleRTL,c=i.handleSkin,u=i.handleLayout,l=i.handleLastLayout,d=i.handleMenuHidden,f=i.handleNavbarType,y=i.handleFooterType,h=i.handleNavbarColor,g=i.handleContentWidth,b=i.handleMenuCollapsed,p=i.handleRouterTransition;t.a=r.reducer},31:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.74846b6d.png"},51:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo.86b72fab.svg"},8:function(e,t,n){"use strict";var a={app:{appName:"PPDB",appLogoImage:n(79).default},layout:{isRTL:!1,skin:"light",routerTransition:"fadeIn",type:"vertical",contentWidth:"boxed",menu:{isHidden:!1,isCollapsed:!1},navbar:{type:"floating",backgroundColor:"white"},footer:{type:"static"},customizer:!1,scrollTop:!0}};t.a=a},81:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(5),r=n.n(o),i=n(29),s=n(15),c=n(23),u=n(11),l=n(10),d=n.n(l),f=Object(u.b)("layout/getBookmarks",Object(c.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/bookmarks/data");case 2:return t=e.sent,e.abrupt("return",{data:t.data.suggestions,bookmarks:t.data.bookmarks});case 4:case"end":return e.stop()}}),e)})))),y=Object(u.b)("layout/updateBookmarked",function(){var e=Object(c.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/bookmarks/update",{id:t});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(u.c)({name:"layout",initialState:{query:"",bookmarks:[],suggestions:[]},reducers:{handleSearchQuery:function(e,t){e.query=t.payload}},extraReducers:function(e){e.addCase(f.fulfilled,(function(e,t){e.suggestions=t.payload.data,e.bookmarks=t.payload.bookmarks})).addCase(y.fulfilled,(function(e,t){var n;e.suggestions.find((function(e){e.id===t.payload&&(e.isBookmarked=!e.isBookmarked,n=e)}));var a=e.bookmarks.findIndex((function(e){return e.id===t.payload}));-1===a?e.bookmarks.push(n):e.bookmarks.splice(a,1)}))}}),g=(h.actions.handleSearchQuery,h.reducer),b=n(28),p=n(7),k=n(33),m=n(34),j={loginEndpoint:"/jwt/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/jwt/refresh-token",logoutEndpoint:"/jwt/logout",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"},T=function(){function e(t){var n=this;Object(k.a)(this,e),this.jwtConfig=Object(p.a)({},j),this.isAlreadyFetchingAccessToken=!1,this.subscribers=[],this.jwtConfig=Object(p.a)(Object(p.a)({},this.jwtConfig),t),d.a.interceptors.request.use((function(e){var t=n.getToken();return t&&(e.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),d.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,a=e.response,o=t;return a&&401===a.status?(n.isAlreadyFetchingAccessToken||(n.isAlreadyFetchingAccessToken=!0,n.refreshToken().then((function(e){n.isAlreadyFetchingAccessToken=!1,n.setToken(e.data.accessToken),n.setRefreshToken(e.data.refreshToken),n.onAccessTokenFetched(e.data.accessToken)}))),new Promise((function(e){n.addSubscriber((function(t){o.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t),e(n.axios(o))}))}))):Promise.reject(e)}))}return Object(m.a)(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"getRefreshToken",value:function(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"setRefreshToken",value:function(e){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,e)}},{key:"login",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.a.post.apply(d.a,[this.jwtConfig.loginEndpoint].concat(t))}},{key:"register",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.a.post.apply(d.a,[this.jwtConfig.registerEndpoint].concat(t))}},{key:"refreshToken",value:function(){return window.localStorage.clear(),window.location.reload(),null}}]),e}();var v={jwt:new T({})}.jwt.jwtConfig,w=Object(u.c)({name:"authentication",initialState:{userData:function(){var e=window.localStorage.getItem("userData");return e?JSON.parse(e):{}}()},reducers:{handleLogin:function(e,t){e.userData=t.payload,e[v.storageTokenKeyName]=t.payload[v.storageTokenKeyName],e[v.storageRefreshTokenKeyName]=t.payload[v.storageRefreshTokenKeyName],localStorage.setItem("userData",JSON.stringify(t.payload)),localStorage.setItem(v.storageTokenKeyName,JSON.stringify(t.payload.accessToken)),localStorage.setItem(v.storageRefreshTokenKeyName,JSON.stringify(t.payload.refreshToken))},handleLogout:function(e){e.userData={},e[v.storageTokenKeyName]=null,e[v.storageRefreshTokenKeyName]=null,localStorage.removeItem("userData"),localStorage.removeItem(v.storageTokenKeyName),localStorage.removeItem(v.storageRefreshTokenKeyName)}}}),O=w.actions,N=(O.handleLogin,O.handleLogout,{auth:w.reducer,navbar:g,layout:b.a}),S=Object(u.a)({reducer:N,middleware:function(e){return e({serializableCheck:!1})}}),C=n(26),x=n(14),R=n(3),L=Object(a.createContext)(),I=function(e){var t=e.children,n=Object(a.useState)({}),o=Object(x.a)(n,2),r=o[0],i=o[1];return Object(a.useEffect)((function(){if("undefined"!==window){var e=function(e){return window.getComputedStyle(document.body).getPropertyValue(e).trim()},t={primary:{light:e("--bs-primary").concat("1a"),main:e("--bs-primary")},secondary:{light:e("--bs-secondary").concat("1a"),main:e("--bs-secondary")},success:{light:e("--bs-success").concat("1a"),main:e("--bs-success")},danger:{light:e("--bs-danger").concat("1a"),main:e("--bs-danger")},warning:{light:e("--bs-warning").concat("1a"),main:e("--bs-warning")},info:{light:e("--bs-info").concat("1a"),main:e("--bs-info")},dark:{light:e("--bs-dark").concat("1a"),main:e("--bs-dark")}};i(Object(p.a)({},t))}}),[]),Object(R.jsx)(L.Provider,{value:{colors:r},children:t})},K=n(31),A=function(){return Object(R.jsxs)("div",{className:"fallback-spinner app-loader",children:[Object(R.jsx)("img",{className:"fallback-logo",src:K.a,alt:"logo",width:60,height:60}),Object(R.jsxs)("div",{className:"loading",children:[Object(R.jsx)("div",{className:"effect-1 effects"}),Object(R.jsx)("div",{className:"effect-2 effects"}),Object(R.jsx)("div",{className:"effect-3 effects"})]})]})},E=n(16),B=n(27),J=n(2),F=n.n(J),P=n(20),W=(n(81),["className","children","onClick"]);P.c.Ripple=function(e){var t=e.className,n=e.children,o=e.onClick,r=Object(B.a)(e,W),i=Object(a.useState)(!1),s=Object(x.a)(i,2),c=s[0],u=s[1],l=Object(a.useState)(!1),d=Object(x.a)(l,2),f=d[0],y=d[1],h=Object(a.useState)({x:-1,y:-1}),g=Object(x.a)(h,2),b=g[0],k=g[1];return Object(a.useEffect)((function(){return u(!0),function(){return u(!1)}}),[]),Object(a.useEffect)((function(){c&&(-1!==b.x&&-1!==b.y?(y(!0),setTimeout((function(){return y(!1)}),500)):y(!1))}),[b]),Object(a.useEffect)((function(){c&&(f||k({x:-1,y:-1}))}),[f]),Object(R.jsxs)(P.c,Object(p.a)(Object(p.a)({className:F()("waves-effect",Object(E.a)({},t,t)),onClick:function(e){var t=e.target.getBoundingClientRect();k({x:e.clientX-t.left,y:e.clientY-t.top}),o&&o(e)}},r),{},{children:[n,f?Object(R.jsx)("span",{className:"waves-ripple",style:{left:b.x,top:b.y}}):null]}))};n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=Object(a.lazy)((function(){return Promise.all([n.e(13),n.e(14)]).then(n.bind(null,682))}));r.a.render(Object(R.jsx)(i.a,{store:S,children:Object(R.jsx)(a.Suspense,{fallback:Object(R.jsx)(A,{}),children:Object(R.jsxs)(I,{children:[Object(R.jsx)(D,{}),Object(R.jsx)(C.a,{})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[90,9,12]]]);
//# sourceMappingURL=main.91f6b8d5.chunk.js.map
(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[5],{156:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(0),i=n.n(c);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=Object(a.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,c=e.size,i=void 0===c?24:c,l=s(e,["color","size"]);return r.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.a.createElement("polyline",{points:"3 6 5 6 21 6"}),r.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));l.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},l.displayName="Trash",t.a=l},180:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(0),i=n.n(c);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=Object(a.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,c=e.size,i=void 0===c?24:c,l=s(e,["color","size"]);return r.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));l.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},l.displayName="Eye",t.a=l},689:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(7),r=n(14),c=n(1),i=n(20),o=n(120),s=n.n(o),l=n(26),u=n(97),d=n(101),m=n(180),b=n(156),f=n(3),j=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"d-flex flex-row",children:[e.buttonEdit?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{onClick:function(){e.onEdit(e.allData)},className:"bg-success p-1 d-flex mr-1 rounded-circle cursor-pointer shadow-sm",children:Object(f.jsx)(m.a,{style:{color:"white"},className:"m-auto",size:12})})}):"",e.buttonDelete&&Object(f.jsx)("div",{onClick:function(){e.onDelete(e.allData)},className:"bg-danger p-1 d-flex mr-1 rounded-circle cursor-pointer shadow-sm",children:Object(f.jsx)(b.a,{style:{color:"white"},className:"m-auto",size:12})})]})})},p=n(144),g=n.n(p),h=n(145),O=n.n(h)()(g.a);function y(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1],m=Object(c.useState)(!1),b=Object(r.a)(m,2),p=b[0],g=b[1],h=Object(c.useState)({type:"slide",name:"",image:"",imageType:"",isUpload:!1}),y=Object(r.a)(h,2),x=y[0],v=y[1],w=function(e){Object(u.a)("/image-list?type=".concat(e)).then((function(e){var t=[];if(e&&e.data&&e.data.data){var n=e.data.data;n.length>0&&(n.forEach((function(e){t.push({uuid:e.uuid,image:e.image,name:e.name,createdAt:e.created_at,updatedAt:e.updated_at})})),o(t))}})).catch((function(e){console.log(e)}))},k=function(e){g(!0),v({type:x.type,image:e.image,imageType:"",name:e.name,isUpload:!1,uuid:e.uuid})},D=function(e){console.log(e),O.fire({title:"",text:"Apakah anda yakin akan menghapus foto?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(t){t.value&&Object(u.b)("/image-list",{uuid:e.uuid}).then((function(e){e.data.response.status?(w("eskul"===(null===x||void 0===x?void 0:x.type)?2:1),l.b.success("Berhasil Menghapus Data")):l.b.error("Gagal Menghapus Data")}))}))},E=[{name:"Image",sortable:!0,selector:function(e){return Object(f.jsx)(i.t,{src:"".concat(d.c,"/").concat(e.image),width:"250"})}},{name:"Dibuat Pada",sortable:!0,selector:function(e){return e.createdAt}},{name:"Diupdate Pada",sortable:!0,selector:function(e){return e.updatedAt}},{name:"Action",sortable:!0,selector:function(e){return Object(f.jsx)(j,{allData:e,buttonEdit:"eskul"===x.type?1:0,buttonDelete:!0,onEdit:k,onDelete:D})}}],N=[{name:"Image",sortable:!0,selector:function(e){return Object(f.jsx)(i.t,{src:"".concat(d.c,"/").concat(e.image),width:"250"})}},{name:"Nama Ekstrakulikuler",sortable:!0,selector:function(e){return e.name}},{name:"Dibuat Pada",sortable:!0,selector:function(e){return e.createdAt}},{name:"Diupdate Pada",sortable:!0,selector:function(e){return e.updatedAt}},{name:"Action",sortable:!0,selector:function(e){return Object(f.jsx)(j,{allData:e,buttonEdit:"eskul"===x.type?1:0,buttonDelete:!0,onEdit:k,onDelete:D})}}],P=Object(c.useState)({image:"",name:""}),S=Object(r.a)(P,2),T=S[0],B=S[1],C=function(){g(!1),v({type:x.type,image:"",imageType:"",name:"",isUpload:!1,uuid:""}),B({image:"",name:""})};return Object(c.useEffect)((function(){window.location.pathname&&window.location.pathname.includes("ekstrakulikuler")?(v(Object(a.a)(Object(a.a)({},x),{},{type:"eskul"})),w(2)):w(1)}),[]),Object(f.jsxs)(i.C,{children:[Object(f.jsx)(i.i,{lg:12,md:12,children:Object(f.jsxs)(i.d,{children:[Object(f.jsx)(i.f,{children:Object(f.jsxs)(i.h,{children:["Pengaturan ","eskul"===x.type?"Ekstrakulikuler":"Slide"]})}),Object(f.jsx)(i.e,{children:Object(f.jsxs)(i.C,{children:["eskul"===x.type&&Object(f.jsxs)(i.i,{lg:6,md:6,sm:12,children:[Object(f.jsx)(i.s,{children:"Nama Slide"}),Object(f.jsx)(i.p,{type:"text",placeholder:"Nama",value:x.name,className:""!==T.name&&"is-invalid",onChange:function(e){v(Object(a.a)(Object(a.a)({},x),{},{name:e.target.value}))}})]}),Object(f.jsxs)(i.i,{lg:6,md:6,sm:12,children:[Object(f.jsx)(i.s,{children:"Pilih File"}),Object(f.jsx)(i.p,{type:"file",id:"exampleCustomFileBrowser",name:"customFile",className:""!==T.image&&"is-invalid",onChange:function(e){var t=new FileReader,n=e.target.files[0],r=(e.target.files[0]?e.target.files[0].name.substr(-4,4):"").toLowerCase();".jpg"===r||"jpeg"===r||".png"===r?(t.onload=function(e){v(Object(a.a)(Object(a.a)({},x),{},{image:e.target.result,imageType:r,isUpload:!0}))},t.readAsDataURL(n)):l.b.warning("Format gambar hanya bisa jpg, Jpeg dan png")}})]}),Object(f.jsxs)(i.i,{lg:12,md:12,sm:12,className:"mt-1",children:[Object(f.jsx)(i.s,{children:"Preview"}),Object(f.jsx)("br",{}),Object(f.jsx)(i.t,{className:"",object:!0,src:p&&!x.isUpload?"".concat(d.c,"/").concat(x.image):""!==x.image?x.image:"",alt:"Preview",width:"150px",height:"150px"})]}),Object(f.jsxs)(i.i,{lg:12,md:12,sm:12,className:"mt-1",children:[Object(f.jsx)(i.c,{color:"success",onClick:function(){"slide"===x.type&&""===x.image?B({image:""===x.image?"Gambar Tidak Boleh Kosong":""}):"eskul"===x.type&&""===x.image&&""===x.name?B({name:""===x.name?"Field Tidak Boleh Kosong":"",image:""===x.image?"Gambar Tidak Boleh Kosong":""}):p?Object(u.b)("/uploadImage?uuid=".concat(x.uuid),JSON.stringify(x)).then((function(e){C(),w("eskul"===(null===x||void 0===x?void 0:x.type)?2:1),l.b.success("Berhasil Menyimpan Data")})).catch((function(e){console.log(e),l.b.error("Gagal Menyimpan Data")})):Object(u.c)("/uploadImage",JSON.stringify(x)).then((function(e){C(),w("eskul"===(null===x||void 0===x?void 0:x.type)?2:1),l.b.success("Berhasil Menyimpan Data")})).catch((function(e){console.log(e),l.b.error("Gagal Menyimpan Data")}))},size:"sm",children:"Simpan"})," ",Object(f.jsx)(i.c,{className:"ml-2",onClick:function(){return C()},color:"danger",size:"sm",children:"Reset"})]})]})})]})}),Object(f.jsx)(i.i,{lg:12,md:12,children:Object(f.jsxs)(i.d,{children:[Object(f.jsx)(i.f,{children:Object(f.jsx)(i.h,{children:"List Slide"})}),Object(f.jsx)(i.e,{children:Object(f.jsx)(s.a,{columns:"eskul"===x.type?N:E,data:n})})]})})]})}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(101),r=n(10),c=n.n(r),i=function(e){return new Promise((function(t,n){return c.a.get("".concat(a.a).concat(e),a.i).then((function(e){t(e)})).catch((function(e){Object(a.f)(e),n(e)}))}))},o=function(e,t){return new Promise((function(n,r){return c.a.post(a.a+e,t,a.i).then((function(e){n(e)})).catch((function(e){Object(a.f)(e),r(e)}))}))},s=function(e,t){return new Promise((function(n,r){return c.a.put(a.a+e,t,a.i).then((function(e){n(e)})).catch((function(e){Object(a.f)(e),r(e)}))}))},l=function(e,t){return new Promise((function(n,r){return c.a.patch(a.a+e,t,a.i).then((function(e){n(e)})).catch((function(e){Object(a.f)(e),r(e)}))}))}}}]);
//# sourceMappingURL=5.86d37a82.chunk.js.map